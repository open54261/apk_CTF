"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[512],{1916:(L,p,e)=>{e.d(p,{$:()=>E});var t=e(467),s=e(3207),l=e(4438),f=e(4742),P=e(230),g=e(5151);let E=(()=>{var n;class v{constructor(o,c,r){this.loadingCtrl=o,this.translateService=c,this.userAlertService=r,this.subscriptions=[],this.showLoading=!1,this.loadingDismissTimeout=-1,this.loadingDismissTimeoutMS=3e4}ngOnDestroy(){this.subscriptions.forEach(o=>o.unsubscribe())}addSub(o){this.subscriptions.push(o)}translate(o,c){var r=this;return(0,t.A)(function*(){return(yield(0,s.s)(r.translateService.get(o)))||c||o})()}withSpinner(o,c,r){var _=this;return(0,t.A)(function*(){let d;yield _.presentLoading(c),_.loadingDismissTimeout=setTimeout(()=>_.timeoutLoading(r),_.loadingDismissTimeoutMS);try{d=yield o()}catch(O){_.userAlertService.debug(O)}return yield _.dismissLoading(),d})()}timeoutLoading(o){var c=this;return(0,t.A)(function*(){o||(o=yield c.translate("LOADING_FAILED")),c.userAlertService.error(o),yield c.dismissLoading()})()}dismissLoading(){var o=this;return(0,t.A)(function*(){-1!=o.loadingDismissTimeout&&(clearTimeout(o.loadingDismissTimeout),o.loadingDismissTimeout=-1),o.showLoading=!1,(yield o.loadingCtrl.getTop())&&(yield o.loadingCtrl.dismiss(null))})()}presentLoading(o){var c=this;return(0,t.A)(function*(){return c.showLoading=!0,yield c.loadingCtrl.create({message:o}).then(r=>{r.present().then(()=>{c.showLoading&&r.dismiss()})})})()}}return(n=v).\u0275fac=function(o){return new(o||n)(l.rXU(f.Xi),l.rXU(P.c$),l.rXU(g.p))},n.\u0275cmp=l.VBU({type:n,selectors:[["ng-component"]],decls:0,vars:0,template:function(o,c){},encapsulation:2}),v})()},4416:(L,p,e)=>{e.d(p,{l:()=>u});var t=e(4438),s=e(9598),l=e(4742),f=e(177),P=e(230);const g=["*"];function E(o,c){if(1&o&&(t.j41(0,"ion-buttons",5),t.nrm(1,"ion-back-button",6),t.nI1(2,"translate"),t.k0s()),2&o){const r=t.XpG();t.R7$(),t.FS9("text",t.bMT(2,2,"BACK")),t.Y8G("defaultHref",r.backPage)}}function n(o,c){1&o&&(t.j41(0,"ion-menu-toggle",5)(1,"ion-button",7),t.nrm(2,"ion-icon",8),t.k0s()())}function v(o,c){if(1&o&&(t.j41(0,"ion-title"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&o){const r=t.XpG();t.R7$(),t.SpI(" ",t.bMT(2,1,r.pageTitle)," ")}}let u=(()=>{var o;class c{constructor(_){this.router=_,this.backPage=""}navToMyAccount(){this.router.navigate(["my-account"])}}return(o=c).\u0275fac=function(_){return new(_||o)(t.rXU(s.Ix))},o.\u0275cmp=t.VBU({type:o,selectors:[["app-header"]],inputs:{pageTitle:"pageTitle",backPage:"backPage"},ngContentSelectors:g,decls:9,vars:3,consts:[["slot","start",4,"ngIf"],[4,"ngIf"],["slot","end"],[3,"click"],["name","cog"],["slot","start"],[3,"defaultHref","text"],["size","small","fill","clear"],["name","menu"]],template:function(_,d){1&_&&(t.NAR(),t.j41(0,"ion-header")(1,"ion-toolbar"),t.DNE(2,E,3,4,"ion-buttons",0)(3,n,3,0,"ion-menu-toggle",0)(4,v,3,3,"ion-title",1),t.j41(5,"ion-buttons",2)(6,"ion-button",3),t.bIt("click",function(){return d.navToMyAccount()}),t.nrm(7,"ion-icon",4),t.k0s()()()(),t.SdG(8)),2&_&&(t.R7$(2),t.Y8G("ngIf",d.backPage),t.R7$(),t.Y8G("ngIf",!d.backPage),t.R7$(),t.Y8G("ngIf",!d.isLoadingUserInfo))},dependencies:[l.Jm,l.QW,l.eU,l.iq,l.cA,l.BC,l.ai,l.el,f.bT,P.D9]}),c})()},2952:(L,p,e)=>{e.d(p,{t:()=>P});var t=e(4438),s=e(4742),l=e(177);function f(g,E){if(1&g&&(t.j41(0,"p"),t.EFF(1),t.k0s()),2&g){const n=t.XpG();t.R7$(),t.JRh(n.text)}}let P=(()=>{var g;class E{constructor(){this.text=""}}return(g=E).\u0275fac=function(v){return new(v||g)},g.\u0275cmp=t.VBU({type:g,selectors:[["q-spinner"]],hostVars:2,hostBindings:function(v,u){2&v&&t.HbH(u.expand)},inputs:{text:"text",expand:"expand"},decls:5,vars:1,consts:[[1,"ion-no-padding","ion-no-margin"],[1,"ion-justify-content-center","ion-align-items-center"],[1,"ion-text-center"],[4,"ngIf"]],template:function(v,u){1&v&&(t.j41(0,"ion-grid",0)(1,"ion-row",1)(2,"ion-col",2),t.nrm(3,"ion-spinner"),t.DNE(4,f,2,1,"p",3),t.k0s()()()),2&v&&(t.R7$(4),t.Y8G("ngIf",u.text))},dependencies:[s.hU,s.lO,s.ln,s.w2,l.bT],styles:[".expand[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{height:100%}.expand[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{height:100%}.expand[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{color:var(--quiculum-gray)}"]}),E})()},6090:(L,p,e)=>{e.d(p,{v:()=>v});var t=e(1916),s=e(4438),l=e(1204),f=e(9598),P=e(4742),g=e(230),E=e(5151),n=e(9196);let v=(()=>{var u;class o extends t.${constructor(r,_,d,O,T,M){super(d,O,T),this.account=r,this.router=_,this.userInfoProvider=M}ionViewDidLoad(){}ionViewWillEnter(){}ionViewDidEnter(){}ionViewWillLeave(){}ionViewDidLeave(){}ionViewWillUnload(){}ionViewCanEnter(){return!0}ionViewCanLeave(){return!0}navTo(r,_){const d=Array.isArray(r)?r:[r];this.router.navigate(d,_)}navToUrl(r,_){this.router.navigateByUrl(r,_)}}return(u=o).\u0275fac=function(r){return new(r||u)(s.rXU(l.$),s.rXU(f.Ix),s.rXU(P.Xi),s.rXU(g.c$),s.rXU(E.p),s.rXU(n.Z))},u.\u0275cmp=s.VBU({type:u,selectors:[["ng-component"]],features:[s.Vt3],decls:0,vars:0,template:function(r,_){}}),o})()},512:(L,p,e)=>{e.r(p),e.d(p,{LinksPageModule:()=>S});var t=e(177),s=e(9417),l=e(4742),f=e(9598),P=e(467),g=e(3207),E=e(6090),n=e(4438),v=e(1204),u=e(230),o=e(5151),c=e(9196),r=e(6244);let _=(()=>{var i;class m{constructor(a){this.api=a,this.getLinksUrl="api/closedlinks"}getLinks(){return this.api.get(this.getLinksUrl)}}return(i=m).\u0275fac=function(a){return new(a||i)(n.KVO(r.j))},i.\u0275prov=n.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),m})();var d=e(4416),O=e(2952);function T(i,m){1&i&&(n.j41(0,"div",3),n.nrm(1,"q-spinner"),n.k0s())}function M(i,m){if(1&i){const h=n.RV6();n.j41(0,"ion-list")(1,"ion-item",5),n.bIt("click",function(){const C=n.eBV(h).$implicit,y=n.XpG(2);return n.Njj(y.openLink(C))}),n.nrm(2,"ion-icon",6),n.j41(3,"ion-label"),n.EFF(4),n.k0s()()()}if(2&i){const h=m.$implicit;n.R7$(),n.Y8G("button",!0),n.R7$(3),n.JRh(h.link.title)}}function I(i,m){if(1&i&&(n.j41(0,"div"),n.DNE(1,M,5,2,"ion-list",4),n.k0s()),2&i){const h=n.XpG();n.R7$(),n.Y8G("ngForOf",h.links)}}const U=[{path:"",component:(()=>{var i;class m extends E.v{constructor(a,C,y,K,W,k,x,V){super(a,C,y,K,W,k),this.modalCtrl=x,this.linkService=V,this.isBusy=!1,this.userInfo={},this.links=[],this.initLang()}get isGuardian(){return this.userInfo&&"Guardian"==this.userInfo.roleName}ngOnInit(){var a=this;return(0,P.A)(function*(){a.isBusy=!0,a.addSub(a.userInfoProvider.userInfoState.subscribe(C=>a.userInfo=C)),yield a.getLinks(),a.isBusy=!1})()}navToMyAccount(){this.navTo("my-account")}initLang(){var a=this;return(0,P.A)(function*(){a.translations=yield(0,g.s)(a.translateService.get(["SEARCH","SEARCH_BY_NAME_OR_SUBJECT"]))})()}getLinks(){var a=this;return(0,P.A)(function*(){a.links=yield a.linkService.getLinks()})()}openLink(a){return(0,P.A)(function*(){window.open(a.link.url,"_blank")})()}}return(i=m).\u0275fac=function(a){return new(a||i)(n.rXU(v.$),n.rXU(f.Ix),n.rXU(l.Xi),n.rXU(u.c$),n.rXU(o.p),n.rXU(c.Z),n.rXU(l.W3),n.rXU(_))},i.\u0275cmp=n.VBU({type:i,selectors:[["page-links"]],features:[n.Vt3],decls:5,vars:5,consts:[[3,"pageTitle"],["class","ion-padding-top",4,"ngIf"],[4,"ngIf"],[1,"ion-padding-top"],[4,"ngFor","ngForOf"],[3,"click","button"],["color","action","slot","start","name","link","size","large"]],template:function(a,C){1&a&&(n.nrm(0,"app-header",0),n.nI1(1,"translate"),n.j41(2,"ion-content"),n.DNE(3,T,2,0,"div",1)(4,I,2,1,"div",2),n.k0s()),2&a&&(n.FS9("pageTitle",n.bMT(1,3,"LINKS")),n.R7$(3),n.Y8G("ngIf",C.isBusy),n.R7$(),n.Y8G("ngIf",C.links.length>0))},dependencies:[t.Sq,t.bT,l.W9,l.iq,l.uz,l.he,l.nf,d.l,O.t,u.D9]}),m})()}];let A=(()=>{var i;class m{}return(i=m).\u0275fac=function(a){return new(a||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[f.iI.forChild(U),f.iI]}),m})();var B=e(7019),R=e(1683);let S=(()=>{var i;class m{}return(i=m).\u0275fac=function(a){return new(a||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[t.MD,s.YN,l.bv,A,B.h,u.h,R.Y]}),m})()},1204:(L,p,e)=>{e.d(p,{$:()=>_});var t=e(467),s=e(4438),l=e(4538),f=e(5320),P=e(9196),g=e(772),E=e(6186),n=e(2840),v=e(3656),u=e(2457),o=e(4840),c=e(7643),r=e(2618);let _=(()=>{var d;class O{constructor(M,I,D,U,A,B,R,S,i,m,h){this.loginSchool=M,this.token=I,this.userInfo=D,this.userSettings=U,this.loginStatus=A,this.roleService=B,this.platform=R,this.push=S,this.rolesProvider=i,this.moduleService=m,this.moduleSettingProvider=h}clearStudentCardPage(){this.studentCardPage&&this.studentCardPage.ngOnDestroy()}logout(){this.token.clearToken(),this.userInfo.clear(),this.rolesProvider.clear(),this.moduleSettingProvider.clear(),this.clearStudentCardPage(),this.loginStatus.setStatus(!1),(this.platform.is("capacitor")||this.platform.is("cordova"))&&this.push.removePushToken()}changeRole(M,I){var D=this;return(0,t.A)(function*(){const U=yield D.roleService.changeRole(M,I);yield D.token.updateToken(U),D.userInfo.refresh();let A=yield D.userInfo.init();D.loginStatus.setRole(A.roleName),D.moduleSettingProvider.updateModuleSettings()})()}logOutAndForgetSchool(){this.logout(),this.loginSchool.clearLoginSchool(),this.userSettings.clearUserSettings()}logOutAndForgetSchoolAndSettings(){this.logout(),this.loginSchool.clearLoginSchool(),this.userSettings.clearUserSettings()}}return(d=O).\u0275fac=function(M){return new(M||d)(s.KVO(l.d),s.KVO(f.x),s.KVO(P.Z),s.KVO(g.w),s.KVO(E.B),s.KVO(n.W),s.KVO(v.OD),s.KVO(u.T),s.KVO(o.L),s.KVO(c.v),s.KVO(r.C))},d.\u0275prov=s.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),O})()}}]);