"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4117],{4416:(k,C,l)=>{l.d(C,{l:()=>O});var a=l(4438),b=l(9598),i=l(4742),e=l(177),r=l(230);const d=["*"];function f(E,P){if(1&E&&(a.j41(0,"ion-buttons",5),a.nrm(1,"ion-back-button",6),a.nI1(2,"translate"),a.k0s()),2&E){const I=a.XpG();a.R7$(),a.FS9("text",a.bMT(2,2,"BACK")),a.Y8G("defaultHref",I.backPage)}}function T(E,P){1&E&&(a.j41(0,"ion-menu-toggle",5)(1,"ion-button",7),a.nrm(2,"ion-icon",8),a.k0s()())}function v(E,P){if(1&E&&(a.j41(0,"ion-title"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&E){const I=a.XpG();a.R7$(),a.SpI(" ",a.bMT(2,1,I.pageTitle)," ")}}let O=(()=>{var E;class P{constructor(S){this.router=S,this.backPage=""}navToMyAccount(){this.router.navigate(["my-account"])}}return(E=P).\u0275fac=function(S){return new(S||E)(a.rXU(b.Ix))},E.\u0275cmp=a.VBU({type:E,selectors:[["app-header"]],inputs:{pageTitle:"pageTitle",backPage:"backPage"},ngContentSelectors:d,decls:9,vars:3,consts:[["slot","start",4,"ngIf"],[4,"ngIf"],["slot","end"],[3,"click"],["name","cog"],["slot","start"],[3,"defaultHref","text"],["size","small","fill","clear"],["name","menu"]],template:function(S,U){1&S&&(a.NAR(),a.j41(0,"ion-header")(1,"ion-toolbar"),a.DNE(2,f,3,4,"ion-buttons",0)(3,T,3,0,"ion-menu-toggle",0)(4,v,3,3,"ion-title",1),a.j41(5,"ion-buttons",2)(6,"ion-button",3),a.bIt("click",function(){return U.navToMyAccount()}),a.nrm(7,"ion-icon",4),a.k0s()()()(),a.SdG(8)),2&S&&(a.R7$(2),a.Y8G("ngIf",U.backPage),a.R7$(),a.Y8G("ngIf",!U.backPage),a.R7$(),a.Y8G("ngIf",!U.isLoadingUserInfo))},dependencies:[i.Jm,i.QW,i.eU,i.iq,i.cA,i.BC,i.ai,i.el,e.bT,r.D9]}),P})()},1876:(k,C,l)=>{l.d(C,{Y:()=>a});class a{constructor(i){this._selectedItems=[],this.equalityFunction=(e,r)=>e==r,i&&(this.equalityFunction=i)}get isAnySelected(){return this._selectedItems.length>0}get selectedItems(){return this._selectedItems}isSelected(i){return!!this.selectedItems.find(r=>this.equalityFunction(i,r))}clear(){this._selectedItems=[]}deselectItem(i){let r=this.selectedItems.findIndex(d=>this.equalityFunction(i,d));r>-1&&this.selectedItems.splice(r,1)}selectItem(i){this.isSelected(i)||this.selectedItems.push(i)}selectItems(i){i.forEach(e=>this.selectItem(e))}setSelectedItems(i){this._selectedItems=i}toggleItem(i){this.isSelected(i)?this.deselectItem(i):this.selectItem(i)}}},1106:(k,C,l)=>{l.d(C,{U:()=>b});var a=l(4438);let b=(()=>{var i;class e{onInput(d){this.resize()}constructor(d){this.element=d}ngOnInit(){setTimeout(()=>this.resize(),0),this.interval=setInterval(()=>this.resize(),2e3)}ngOnDestroy(){clearInterval(this.interval)}resize(){let d=this.element.nativeElement.getElementsByClassName("text-input")[0],f=0;d&&(f=d.scrollHeight,d.style.height=f+"px"),this.element.nativeElement.style.height=f+16+"px"}}return(i=e).\u0275fac=function(d){return new(d||i)(a.rXU(a.aKT))},i.\u0275dir=a.FsC({type:i,selectors:[["ion-textarea","autosize",""]],hostBindings:function(d,f){1&d&&a.bIt("input",function(v){return f.onInput(v.target)})}}),e})()},4324:(k,C,l)=>{l.d(C,{j:()=>be});var a=l(467),b=l(6090);let i=[{roles:["Admin","StudentAdmin","Headmaster","CareerAdvisor","Teacher"],mode:"single",icon:"fa-plus",label:"L\xe4gg till anv\xe4ndare",desc:"V\xe4lj en eller flera personer bland alla registrerade anv\xe4ndare p\xe5 skolan",editorParams:{editorType:"objectFirst",objectType:"User",relationTypes:[]}},{roles:["Admin","StudentAdmin","Headmaster","CareerAdvisor","Teacher"],mode:"both",icon:"fa-plus",label:"Utg\xe5 fr\xe5n klass",desc:"V\xe4lj l\xe4rare/elever/VH kopplade till en klass",editorParams:{editorType:"objectFirst",objectType:"Class",relationTypes:["Student","Guardian","Mentor","TeachingTeacher"]}},{roles:["Admin","StudentAdmin","Headmaster","CareerAdvisor","Teacher"],mode:"single",icon:"fa-plus",label:"Utg\xe5 fr\xe5n elev",desc:"V\xe4lj en elev med m\xf6jlighet att inkludera VH/mentor/l\xe4rare",editorParams:{editorType:"objectFirst",objectType:"Student",relationTypes:["Guardian","TeachingTeacher","Mentor"]}},{roles:["Admin","StudentAdmin","Headmaster","CareerAdvisor","Teacher"],mode:"both",icon:"fa-plus",label:"Utg\xe5 fr\xe5n undervisningsgrupp",desc:"V\xe4lj l\xe4rare/elever/VH med koppling till en undervisningsgrupp",editorParams:{editorType:"objectFirst",objectType:"TeachingGroup",relationTypes:["Student","TeachingTeacher","Guardian"]}},{roles:["Admin","StudentAdmin","Headmaster","CareerAdvisor","Teacher"],mode:"single",icon:"fa-plus",label:"L\xe4gg till v\xe5rdnadshavare via elev",desc:"V\xe4lj v\xe5rdnadshavare med koppling till en elev",editorParams:{editorType:"relationFirst",relationType:"Guardian",objectTypes:["Student"],objectType:"Student",selectIndividualRecipientsEnabled:!0}},{roles:["Admin","Headmaster","Teacher"],mode:"both",icon:"fa-plus",label:"L\xe4gg till personal",desc:"V\xe4lj grupper av personal",editorParams:{editorType:"relationFirst",objectType:"School",relationType:"Staff",roles:["Teacher","Headmaster","CareerAdvisor","Admin","StudentAdmin","StudentAssistant"]}},{roles:["Admin","Headmaster","Teacher"],mode:"both",icon:"fa-plus",label:"Utg\xe5 fr\xe5n skolenhet",desc:"V\xe4lj l\xe4rare/elever/VH kopplade till en skolenhet",editorParams:{editorType:"objectFirst",objectType:"SchoolUnit",relationTypes:["TeachingTeacher","Student","Guardian"]}},{roles:["Student","Guardian"],mode:"single",icon:"fa-plus",label:"L\xe4gg till l\xe4rare",desc:"V\xe4lj en eller flera l\xe4rare p\xe5 skolan",editorParams:{editorType:"objectFirst",objectType:"Teacher",relationTypes:[]}}];var e=l(4438),r=l(4742),d=l(3656),f=l(9196),T=l(177),v=l(8705),O=l(1876),E=l(8330),P=l(2129),I=l(6244),S=l(6186);let U=(()=>{var s;class u extends P.h{constructor(t,n){super(t,n),this.listEndpoint="api/classes/list"}}return(s=u).\u0275fac=function(t){return new(t||s)(e.KVO(I.j),e.KVO(S.B))},s.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"}),u})(),D=(()=>{var s;class u extends P.h{constructor(t,n){super(t,n),this.listEndpoint="api/schoolunits/list"}}return(s=u).\u0275fac=function(t){return new(t||s)(e.KVO(I.j),e.KVO(S.B))},s.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"}),u})();var A=l(6969),h=l(8292);let y=(()=>{var s;class u extends P.h{constructor(t,n){super(t,n),this.listEndpoint="api/teachinggroups/list"}}return(s=u).\u0275fac=function(t){return new(t||s)(e.KVO(I.j),e.KVO(S.B))},s.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"}),u})(),m=(()=>{var s;class u extends P.h{constructor(t,n){super(t,n),this.listEndpoint="api/users/list"}}return(s=u).\u0275fac=function(t){return new(t||s)(e.KVO(I.j),e.KVO(S.B))},s.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"}),u})();var p=l(230),g=l(8775);function j(s,u){if(1&s){const o=e.RV6();e.j41(0,"ion-item")(1,"ion-checkbox",6),e.bIt("ionChange",function(){const n=e.eBV(o).$implicit,c=e.XpG(2);return e.Njj(c.onClickRelationType(n))}),e.k0s(),e.j41(2,"ion-label"),e.EFF(3),e.k0s()()}if(2&s){const o=u.$implicit,t=e.XpG(2);e.R7$(),e.Y8G("checked",t.isRelationTypeSelected(o)),e.R7$(2),e.SpI("Inkludera ",o.name,"")}}function $(s,u){if(1&s&&(e.j41(0,"ion-list",4),e.DNE(1,j,4,2,"ion-item",5),e.k0s()),2&s){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.relationTypeList)}}let H=(()=>{var s;class u{constructor(t,n,c,_,R,M,F,L,G){this.classesProvider=t,this.schoolUnitsProvider=n,this.studentsProvider=c,this.teachersProvider=_,this.teachingGroupsProvider=R,this.usersProvider=M,this.translate=F,this.modalCtrl=L,this.zone=G,this.relationTypes=[],this.selectIndividualRecipientsEnabled=!1,this.editCanceled=new e.bkB,this.edit=new e.bkB,this.editDone=new e.bkB,this.objectTypesThatCanBeRecipient=["User","Teacher","Student"],this.relationTypeList=[],this.selectedObjects=[],this.relationTypeSelection=new O.Y}ngOnInit(){this.initLang(),this.objectType&&this.openObjectPicker()}ngOnChanges(t){var n=this;return(0,a.A)(function*(){t.objectType&&(yield n.initObjectList()),n.configureEditor()})()}get isAnyObjectSelected(){return this.selectedObjects.length>0}get canAddRecipients(){return this.isAnyObjectSelected&&(this.canBeMessageRecipient(this.objectType)||this.relationTypeSelection.isAnySelected)}get objectTypeLabel(){return this.objectType&&this.translations?this.translations[this.objectType.toUpperCase()]:""}get selectedObjectsSummary(){return this.selectedObjects.map(n=>n.name).join(", ")}canBeMessageRecipient(t){return this.objectTypesThatCanBeRecipient.indexOf(t)>-1}isRelationTypeSelected(t){return this.relationTypeSelection.isSelected(t)}onClickRelationType(t){this.relationTypeSelection.toggleItem(t),this.emitChanges()}onClickCancel(){this.editCanceled.emit()}onClickDone(){this.emitChanges(),this.editDone.emit()}openObjectPicker(){var t=this;return(0,a.A)(function*(){let n=yield t.initObjectList(),c=yield t.modalCtrl.create({component:E.M,componentProps:{items:n,multi:!0}});t.zone.run(()=>c.onDidDismiss().then(_=>{_&&_.data&&_.data.items?t.selectedObjects=_.data.items:_&&_.data&&_.data.item&&(t.selectedObjects=[_.data.item]),t.emitChanges()})),c.present()})()}configureEditor(){this.relationTypeList=v.x.filter(t=>this.relationTypes.some(n=>n==t.id))}createUserCollections(){let t=[],c=this.relationTypeSelection.selectedItems;return this.selectedObjects.forEach(_=>{("User"==this.objectType||"Student"==this.objectType||"Teacher"==this.objectType)&&t.push({objectType:this.objectType,objectId:Number(_.id),objectName:_.name}),c.forEach(R=>{t.push({objectType:this.objectType,objectId:Number(_.id),objectName:_.name,relationType:R.id})})}),t}emitChanges(){let t=this.createUserCollections();this.edit.emit(t)}initLang(){this.translate.setDefaultLang("sv");const t=this.translate.getBrowserLang();t&&t.startsWith("en")?this.translate.use("en"):this.translate.use("sv"),this.translate.get(["CLASS","STUDENT","TEACHER","TEACHINGGROUP","SCHOOL_UNIT","USER"]).subscribe(c=>{this.translations=c})}initObjectList(){var t=this;return(0,a.A)(function*(){switch(t.objectType){case"Class":return t.classesProvider.init();case"Student":return t.studentsProvider.init();case"Teacher":return t.teachersProvider.init({includeAllSchools:"Guardian"==t.userInfo.roleName});case"TeachingGroup":return t.teachingGroupsProvider.init();case"SchoolUnit":return t.schoolUnitsProvider.init();case"User":return t.usersProvider.init();default:return[]}})()}}return(s=u).\u0275fac=function(t){return new(t||s)(e.rXU(U),e.rXU(D),e.rXU(A.s),e.rXU(h.H),e.rXU(y),e.rXU(m),e.rXU(p.c$),e.rXU(r.W3),e.rXU(e.SKi))},s.\u0275cmp=e.VBU({type:s,selectors:[["object-first-user-collection-editor"]],inputs:{userInfo:"userInfo",objectType:"objectType",relationTypes:"relationTypes",selectIndividualRecipientsEnabled:"selectIndividualRecipientsEnabled"},outputs:{editCanceled:"editCanceled",edit:"edit",editDone:"editDone"},features:[e.OA$],decls:6,vars:5,consts:[[3,"tap"],["position","stacked"],[3,"innerHtml"],["lines","none",4,"ngIf"],["lines","none"],[4,"ngFor","ngForOf"],["color","action",3,"ionChange","checked"]],template:function(t,n){1&t&&(e.j41(0,"ion-item",0),e.bIt("tap",function(){return n.openObjectPicker()}),e.j41(1,"ion-label",1),e.EFF(2),e.k0s(),e.nrm(3,"ion-textarea",2),e.nI1(4,"nlHtml"),e.k0s(),e.DNE(5,$,2,1,"ion-list",3)),2&t&&(e.R7$(2),e.JRh(n.objectTypeLabel),e.R7$(),e.Y8G("innerHtml",e.bMT(4,3,n.selectedObjectsSummary),e.npT),e.R7$(2),e.Y8G("ngIf",n.isAnyObjectSelected))},dependencies:[r.eY,r.uz,r.he,r.nf,r.nc,r.hB,r.Gw,T.Sq,T.bT,g.V],encapsulation:2}),u})();var Y=l(9696),W=l(1916),x=l(5151),B=l(4840),N=l(2792),V=l(5383),K=l(8551),w=l(60);function z(s,u){1&s&&(e.j41(0,"div",3),e.EFF(1," Inga anv\xe4ndare uppfyller urvalskriterierna.\n"),e.k0s())}function J(s,u){if(1&s){const o=e.RV6();e.j41(0,"li")(1,"a",6),e.bIt("click",function(){const n=e.eBV(o).$implicit,c=e.XpG(2);return e.Njj(c.onClickUser(n))}),e.nrm(2,"fa-icon",7),e.EFF(3),e.k0s()()}if(2&s){const o=u.$implicit,t=e.XpG(2);e.R7$(2),e.Y8G("icon",t.isUserSelected(o)?t.faCheckSquare:t.faSquare),e.R7$(),e.SpI(" ",o.label," ")}}function Q(s,u){if(1&s&&(e.j41(0,"ul",4),e.DNE(1,J,4,2,"li",5),e.k0s()),2&s){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.userList)}}let Z=(()=>{var s;class u{constructor(t,n){this.userService=t,this.formatter=n,this.changeUsers=new e.bkB,this.faSquare=V.Nfw,this.faCheckSquare=V.rQb,this.userList=[],this.userSelection=new O.Y}ngOnInit(){this.loadCollection()}get isEmpty(){return 0===this.userList.length}get label(){return this.formatter.formatUserCollectionLabel(this.userCollection,this.roles)}onClickUser(t){this.userSelection.toggleItem(t),this.changeUsers.emit(this.userSelection.selectedItems)}isUserSelected(t){return this.userSelection.isSelected(t)}loadCollection(){this.userService.getCollectionPreview(this.userCollection).then(t=>this.userList=t)}}return(s=u).\u0275fac=function(t){return new(t||s)(e.rXU(K.H),e.rXU(N.q))},s.\u0275cmp=e.VBU({type:s,selectors:[["user-collection-editor"]],inputs:{userCollection:"userCollection",roles:"roles"},outputs:{changeUsers:"changeUsers"},features:[e.Jv_([N.q])],decls:4,vars:3,consts:[[1,"user-collection-label"],["class","text-danger indented",4,"ngIf"],["class","list-unstyled",4,"ngIf"],[1,"text-danger","indented"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],[1,"btn","btn-link",3,"click"],[3,"icon"]],template:function(t,n){1&t&&(e.j41(0,"div",0),e.EFF(1),e.k0s(),e.DNE(2,z,2,0,"div",1)(3,Q,2,1,"ul",2)),2&t&&(e.R7$(),e.JRh(n.label),e.R7$(),e.Y8G("ngIf",n.isEmpty),e.R7$(),e.Y8G("ngIf",!n.isEmpty))},dependencies:[T.Sq,T.bT,w.aY],encapsulation:2}),u})();function q(s,u){if(1&s){const o=e.RV6();e.j41(0,"ion-item")(1,"ion-checkbox",7),e.bIt("ionChange",function(){const n=e.eBV(o).$implicit,c=e.XpG(2);return e.Njj(c.onClickRole(n))}),e.k0s(),e.j41(2,"ion-label"),e.EFF(3),e.k0s()()}if(2&s){const o=u.$implicit,t=e.XpG(2);e.R7$(),e.Y8G("checked",t.isRoleSelected(o)),e.R7$(2),e.SpI("Inkludera ",o.name,"")}}function ee(s,u){if(1&s&&(e.j41(0,"ion-list",5),e.DNE(1,q,4,2,"ion-item",6),e.k0s()),2&s){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.roleList)}}function te(s,u){if(1&s){const o=e.RV6();e.j41(0,"user-collection-editor",10),e.bIt("changeUsers",function(n){const c=e.eBV(o).$implicit,_=e.XpG(2);return e.Njj(_.onChangeUsers(n,c))}),e.k0s()}if(2&s){const o=u.$implicit,t=e.XpG(2);e.Y8G("userCollection",o)("roles",t.allRoles)}}function ie(s,u){if(1&s&&(e.j41(0,"div",8),e.DNE(1,te,1,2,"user-collection-editor",9),e.k0s()),2&s){const o=e.XpG();e.R7$(),e.Y8G("ngForOf",o.userCollections)}}let ne=(()=>{var s;class u extends W.${constructor(t,n,c,_,R,M,F,L,G){super(t,n,c),this.modalCtrl=_,this.classesProvider=R,this.schoolUnitsProvider=M,this.studentsProvider=F,this.rolesProvider=L,this.zone=G,this.objectTypes=[],this.roles=[],this.selectIndividualRecipientsEnabled=!1,this.editCanceled=new e.bkB,this.edit=new e.bkB,this.editDone=new e.bkB,this.allRoles=[],this.objectTypeList=[],this.roleList=[],this.userCollections=[],this.selectedObjects=[],this.roleSelection=new O.Y}get canAddRecipients(){return!(!this.relationType||void 0===this.objectType&&void 0===this.selectedObjectType||"School"!==this.objectType&&!this.isAnyObjectSelected)}get isRolesEnabled(){return this.roles&&this.roles.length>0}get isAnyObjectSelected(){return this.selectedObjects.length>0}get objectTypeLabel(){return this.translations&&this.objectType?this.translations[this.objectType.toUpperCase()+"S"]:""}get selectedObjectsSummary(){return this.selectedObjects.map(n=>n.name).join(", ")}isRoleSelected(t){return this.roleSelection.isSelected(t)}ngOnInit(){this.initLang(),this.relationType&&this.openObjectPicker()}ngOnChanges(t){var n=this;return(0,a.A)(function*(){t.roles&&(n.roleList=yield n.createListOfSelectableRoles(t.roles.currentValue)),n.configureEditor()})()}onClickCancel(){this.editCanceled.emit()}onClickDone(){this.editDone.emit(this.userCollections)}onClickRole(t){this.roleSelection.toggleItem(t),this.emitChanges()}onObjectTypeChange(t){this.selectedObjectType=t}openObjectPicker(){var t=this;return(0,a.A)(function*(){let n=yield t.initObjectList(),c=yield t.modalCtrl.create({component:E.M,componentProps:{items:n,multi:!0}});t.zone.run(()=>c.onDidDismiss().then(_=>{_&&_.data&&_.data.items?t.selectedObjects=_.data.items:_&&_.data.item&&(t.selectedObjects=[_.data.item]),t.emitChanges()})),c.present()})()}configureEditor(){"School"===this.objectType&&(this.selectedObjects=[{id:this.userInfo.schoolId.toString(),name:this.userInfo.schoolName}]),this.objectType&&(this.selectedObjectType=this.objectType),!this.objectType&&this.objectTypes&&(this.objectTypeList=Y.O.filter(t=>this.objectTypes.some(n=>n===t.id)))}createUserCollections(){let t=[],c=this.isRolesEnabled?this.roleSelection.selectedItems:[];return this.selectedObjects.forEach(_=>{this.isRolesEnabled?c.forEach(R=>{t.push({objectType:this.objectType||this.selectedObjectType,objectId:Number(_.id),objectName:_.name,relationType:this.relationType,roleId:Number(R.id)})}):t.push({objectType:this.objectType||this.selectedObjectType,objectId:Number(_.id),objectName:_.name,relationType:this.relationType})}),t}createListOfSelectableRoles(t){var n=this;return(0,a.A)(function*(){return(yield n.rolesProvider.init()).filter(c=>n.roles.indexOf(c.roleName)>-1).map(c=>({id:c.roleName.toString(),name:c.roleNameTranslated}))})()}emitChanges(){let t=this.createUserCollections();this.edit.emit(t)}initLang(){this.translateService.get(["STUDENTS"]).subscribe(n=>{this.translations=n})}initObjectList(){var t=this;return(0,a.A)(function*(){switch(t.objectType){case"Class":return t.classesProvider.init();case"Student":return t.studentsProvider.init();case"SchoolUnit":return t.schoolUnitsProvider.init();default:return[]}})()}onChangeUsers(t,n){}}return(s=u).\u0275fac=function(t){return new(t||s)(e.rXU(r.Xi),e.rXU(p.c$),e.rXU(x.p),e.rXU(r.W3),e.rXU(U),e.rXU(D),e.rXU(A.s),e.rXU(B.L),e.rXU(e.SKi))},s.\u0275cmp=e.VBU({type:s,selectors:[["relation-first-user-collection-editor"]],inputs:{userInfo:"userInfo",relationType:"relationType",objectType:"objectType",objectTypes:"objectTypes",roles:"roles",selectIndividualRecipientsEnabled:"selectIndividualRecipientsEnabled"},outputs:{editCanceled:"editCanceled",edit:"edit",editDone:"editDone"},features:[e.Vt3,e.OA$],decls:7,vars:6,consts:[[3,"tap"],["position","stacked"],[3,"innerHtml"],["lines","none",4,"ngIf"],["class","section",4,"ngIf"],["lines","none"],[4,"ngFor","ngForOf"],["color","action",3,"ionChange","checked"],[1,"section"],[3,"userCollection","roles","changeUsers",4,"ngFor","ngForOf"],[3,"changeUsers","userCollection","roles"]],template:function(t,n){1&t&&(e.j41(0,"ion-item",0),e.bIt("tap",function(){return n.openObjectPicker()}),e.j41(1,"ion-label",1),e.EFF(2),e.k0s(),e.nrm(3,"ion-textarea",2),e.nI1(4,"nlHtml"),e.k0s(),e.DNE(5,ee,2,1,"ion-list",3)(6,ie,2,1,"div",4)),2&t&&(e.R7$(2),e.JRh(n.objectTypeLabel),e.R7$(),e.Y8G("innerHtml",e.bMT(4,4,n.selectedObjectsSummary),e.npT),e.R7$(2),e.Y8G("ngIf",n.isRolesEnabled),e.R7$(),e.Y8G("ngIf",n.selectIndividualRecipientsEnabled))},dependencies:[r.eY,r.uz,r.he,r.nf,r.nc,r.hB,r.Gw,T.Sq,T.bT,Z,g.V],encapsulation:2}),u})();const se=()=>[];function oe(s,u){if(1&s){const o=e.RV6();e.j41(0,"ion-button",1),e.bIt("click",function(){e.eBV(o);const n=e.XpG();return e.Njj(n.onClickDone())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"DONE")," "))}function re(s,u){if(1&s){const o=e.RV6();e.j41(0,"ion-item",7),e.bIt("click",function(){const n=e.eBV(o).$implicit,c=e.XpG(2);return e.Njj(c.onClickAdd(n.editorParams))}),e.j41(1,"ion-label")(2,"h4"),e.EFF(3),e.k0s(),e.j41(4,"p"),e.EFF(5),e.k0s()()()}if(2&s){const o=u.$implicit;e.R7$(3),e.JRh(o.label),e.R7$(2),e.JRh(o.desc)}}function le(s,u){if(1&s&&(e.qex(0),e.j41(1,"ion-list",5),e.DNE(2,re,6,2,"ion-item",6),e.k0s(),e.bVm()),2&s){const o=e.XpG();e.R7$(2),e.Y8G("ngForOf",o.addButtons)}}function ae(s,u){if(1&s){const o=e.RV6();e.j41(0,"object-first-user-collection-editor",10),e.bIt("editCanceled",function(){e.eBV(o);const n=e.XpG(2);return e.Njj(n.onEditCanceled())})("edit",function(n){e.eBV(o);const c=e.XpG(2);return e.Njj(c.onEdit(n))}),e.k0s()}if(2&s){const o=e.XpG(2);e.Y8G("userInfo",o.userInfo)("objectType",o.editorParams.objectType)("relationTypes",o.editorParams.relationTypes)}}function ce(s,u){if(1&s){const o=e.RV6();e.j41(0,"relation-first-user-collection-editor",11),e.bIt("editCanceled",function(){e.eBV(o);const n=e.XpG(2);return e.Njj(n.onEditCanceled())})("edit",function(n){e.eBV(o);const c=e.XpG(2);return e.Njj(c.onEdit(n))}),e.k0s()}if(2&s){const o=e.XpG(2);e.Y8G("userInfo",o.userInfo)("relationType",o.editorParams.relationType)("objectType",o.editorParams.objectType)("objectTypes",o.editorParams.objectTypes)("roles",o.editorParams.roles||e.lJ4(6,se))("selectIndividualRecipientsEnabled",o.editorParams.selectIndividualRecipientsEnabled)}}function de(s,u){if(1&s&&(e.qex(0),e.DNE(1,ae,1,3,"object-first-user-collection-editor",8)(2,ce,1,7,"relation-first-user-collection-editor",9),e.bVm()),2&s){const o=e.XpG();e.R7$(),e.Y8G("ngIf","objectFirst"==o.editorParams.editorType),e.R7$(),e.Y8G("ngIf","relationFirst"==o.editorParams.editorType)}}let ue=(()=>{var s;class u{constructor(t,n,c){this.modalCtrl=t,this.navParams=n,this.userInfoProvider=c,this.singleRecipientAllowed=!0,this.isInitialized=!1,this.isEditing=!1,this.userInfo={},this.subscription=[]}ngOnInit(){this.subscription.push(this.userInfoProvider.userInfoState.subscribe(t=>this.userInfo=t))}ngOnDestroy(){this.subscription.forEach(t=>t.unsubscribe())}ionViewWillEnter(){this.initView()}get addButtons(){return this.userInfoProvider?i.filter(t=>t.roles.indexOf(this.userInfo.roleName)>-1&&(this.singleRecipientAllowed||"single"!=t.mode)):[]}get hasValidUserSet(){return this.userSet&&this.userSet.userCollections&&this.userSet.userCollections.length>0}onClickAdd(t){this.isEditing=!0,this.editorParams=t}onEditCanceled(){this.isEditing=!1}onEdit(t){this.userSet=t&&t.length?{userCollections:t}:void 0}onClickDone(){this.modalCtrl.dismiss({userSet:this.userSet})}dismiss(){this.modalCtrl.dismiss()}initView(){var t=this;return(0,a.A)(function*(){yield t.userInfoProvider.init()})()}}return(s=u).\u0275fac=function(t){return new(t||s)(e.rXU(r.W3),e.rXU(d.y8),e.rXU(f.Z))},s.\u0275cmp=e.VBU({type:s,selectors:[["page-recipients-editor"]],decls:15,vars:9,consts:[["slot","start"],["fill","clear",3,"click"],["slot","end"],["fill","clear",3,"click",4,"ngIf"],[4,"ngIf"],[1,"ion-no-padding"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],[3,"userInfo","objectType","relationTypes","editCanceled","edit",4,"ngIf"],[3,"userInfo","relationType","objectType","objectTypes","roles","selectIndividualRecipientsEnabled","editCanceled","edit",4,"ngIf"],[3,"editCanceled","edit","userInfo","objectType","relationTypes"],[3,"editCanceled","edit","userInfo","relationType","objectType","objectTypes","roles","selectIndividualRecipientsEnabled"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(){return n.dismiss()}),e.j41(4,"span"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ion-title"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"ion-buttons",2),e.DNE(11,oe,3,3,"ion-button",3),e.k0s()()(),e.j41(12,"ion-content"),e.DNE(13,le,3,1,"ng-container",4)(14,de,3,2,"ng-container",4),e.k0s()),2&t&&(e.R7$(5),e.JRh(e.bMT(6,5,"CANCEL")),e.R7$(3),e.JRh(e.bMT(9,7,"PICK_RECIPIENTS")),e.R7$(3),e.Y8G("ngIf",n.hasValidUserSet),e.R7$(2),e.Y8G("ngIf",!n.isEditing),e.R7$(),e.Y8G("ngIf",n.isEditing))},dependencies:[T.Sq,T.bT,r.Jm,r.QW,r.W9,r.eU,r.uz,r.he,r.nf,r.BC,r.ai,H,ne,p.D9]}),u})();var _e=l(1204),pe=l(9598),he=l(1274),X=l(9417),me=l(1106);let ge=(()=>{var s;class u{constructor(t,n,c){this.translate=t,this.formatter=n,this.roles=c,this.userSet={},this.summary=""}ngOnInit(){this.initLang()}ngOnChanges(t){t.userSet&&this.updateSummary()}getSummary(){var t=this;return(0,a.A)(function*(){let n=yield t.roles.init(),c=t.translations.NO_RECIPIENT_SELECTED;return t.userSet&&t.userSet.userCollections?t.formatter.formatUserSetLabel(t.userSet,n):c})()}initLang(){var t=this;this.translate.setDefaultLang("sv");const n=this.translate.getBrowserLang();n&&n.startsWith("en")?this.translate.use("en"):this.translate.use("sv"),this.translate.get(["NO_RECIPIENT_SELECTED"]).subscribe(function(){var _=(0,a.A)(function*(R){t.translations=R,t.summary=yield t.getSummary()});return function(R){return _.apply(this,arguments)}}())}updateSummary(){var t=this;return(0,a.A)(function*(){let n=yield t.getSummary();t.summary=n})()}}return(s=u).\u0275fac=function(t){return new(t||s)(e.rXU(p.c$),e.rXU(N.q),e.rXU(B.L))},s.\u0275dir=e.FsC({type:s,selectors:[["","userSetSummary",""]],hostVars:1,hostBindings:function(t,n){2&t&&e.Mr5("innerHtml",n.summary,e.npT)},inputs:{userSet:"userSet"},features:[e.OA$]}),u})();function fe(s,u){if(1&s&&(e.j41(0,"div",13)(1,"div",14),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"p",15),e.EFF(5),e.k0s(),e.j41(6,"p",16),e.EFF(7),e.k0s()()),2&s){const o=e.XpG();e.R7$(2),e.SpI(" ",e.bMT(3,3,"PREVIOUS_MESSAGE"),": "),e.R7$(3),e.JRh(o.replyTo.subject),e.R7$(2),e.JRh(o.replyTo.text)}}let be=(()=>{var s;class u extends b.v{constructor(t,n,c,_,R,M,F,L,G,Te){super(t,n,_,L,M,F),this.navParams=c,this.navCtrl=R,this.userInfo=F,this.messageService=G,this.modalCtrl=Te}ionViewWillEnter(){var t=this;return(0,a.A)(function*(){yield t.initLang();let n=t.navParams.get("replyTo");n&&(t.replyTo=n,t.subject=t.createSubjectForReply(n),t.recipientSet=t.createRecipientSetForReply(n))})()}get isMessageComplete(){return this.subject&&this.text&&this.recipientSet&&this.recipientSet.userCollections&&this.recipientSet.userCollections.length>0}get isReply(){return void 0!==this.replyTo}get replyRecipientName(){return this.isReply?`${this.replyTo.sender.firstName} ${this.replyTo.sender.lastName}`:""}addRecipients(){var t=this;return(0,a.A)(function*(){let n=yield t.modalCtrl.create({component:ue});n.present(),n.onDidDismiss().then(c=>{c&&c.data&&c.data.userSet&&c.data.userSet.userCollections&&(t.recipientSet=t.recipientSet?{userCollections:t.recipientSet.userCollections.concat(c.data.userSet.userCollections)}:c.data.userSet)})})()}sendMessage(){var t=this;return(0,a.A)(function*(){let n={subject:t.subject,text:t.text,recipientSet:t.recipientSet};t.replyTo&&(n.previousMessage=t.replyTo),yield t.withSpinner(()=>t.messageService.postMessage(n),t.translations.SENDING_MESSAGE),t.modalCtrl.dismiss({message:n})})()}createRecipientSetForReply(t){return{userCollections:[{objectType:"User",objectId:t.senderId,objectName:this.replyRecipientName}]}}createSubjectForReply(t){return t.subject.startsWith(this.translations.REPLY_SHORT)?t.subject:`${this.translations.REPLY_SHORT}: ${t.subject}`}initLang(){this.translateService.setDefaultLang("sv");const t=this.translateService.getBrowserLang();t&&t.startsWith("en")?this.translateService.use("en"):this.translateService.use("sv"),this.translateService.get(["REPLY_SHORT","SENDING_MESSAGE"]).subscribe(c=>{this.translations=c})}dismiss(){this.modalCtrl.dismiss()}}return(s=u).\u0275fac=function(t){return new(t||s)(e.rXU(_e.$),e.rXU(pe.Ix),e.rXU(d.y8),e.rXU(r.Xi),e.rXU(d.q9),e.rXU(x.p),e.rXU(f.Z),e.rXU(p.c$),e.rXU(he.b),e.rXU(r.W3))},s.\u0275cmp=e.VBU({type:s,selectors:[["page-message-composer"]],features:[e.Vt3],decls:39,vars:24,consts:[["slot","start"],["fill","clear",3,"click"],["slot","end"],["fill","clear","color","action",3,"click","disabled"],["size","12"],["lines","none",1,"ion-no-padding"],["position","stacked"],["userSetSummary","",3,"userSet"],[3,"click"],[1,"ion-no-padding"],[3,"ngModelChange","ngModel"],["autocapitalize","on","autosize","",3,"ngModelChange","ngModel"],["class","ion-padding",4,"ngIf"],[1,"ion-padding"],[1,"previous-message-title"],[1,"previous-message-subject"],[1,"previous-message-text"]],template:function(t,n){1&t&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.bIt("click",function(){return n.dismiss()}),e.j41(4,"span"),e.EFF(5),e.nI1(6,"translate"),e.k0s()()(),e.j41(7,"ion-title"),e.EFF(8),e.k0s(),e.j41(9,"ion-buttons",2)(10,"ion-button",3),e.bIt("click",function(){return n.sendMessage()}),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()(),e.j41(13,"ion-content")(14,"ion-grid")(15,"ion-row")(16,"ion-col",4)(17,"ion-item",5)(18,"ion-label",6),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.nrm(21,"ion-textarea",7),e.k0s(),e.j41(22,"ion-item",5)(23,"ion-button",8),e.bIt("click",function(){return n.addRecipients()}),e.EFF(24),e.nI1(25,"translate"),e.k0s()()(),e.j41(26,"ion-col",4)(27,"ion-item",9)(28,"ion-label",6),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"ion-input",10),e.mxI("ngModelChange",function(_){return e.DH7(n.subject,_)||(n.subject=_),_}),e.k0s()()(),e.j41(32,"ion-col",4)(33,"ion-item",9)(34,"ion-label",6),e.EFF(35),e.nI1(36,"translate"),e.k0s(),e.j41(37,"ion-textarea",11),e.mxI("ngModelChange",function(_){return e.DH7(n.text,_)||(n.text=_),_}),e.k0s()()()()(),e.DNE(38,fe,8,5,"div",12),e.k0s()),2&t&&(e.R7$(5),e.JRh(e.bMT(6,12,"CANCEL")),e.R7$(3),e.JRh(n.titleText),e.R7$(2),e.Y8G("disabled",!n.isMessageComplete),e.R7$(),e.SpI(" ",e.bMT(12,14,"SEND")," "),e.R7$(8),e.JRh(e.bMT(20,16,"RECIPIENTS")),e.R7$(2),e.Y8G("userSet",n.recipientSet),e.R7$(3),e.JRh(e.bMT(25,18,"ADD_RECIPIENTS")),e.R7$(5),e.JRh(e.bMT(30,20,"SUBJECT")),e.R7$(2),e.R50("ngModel",n.subject),e.R7$(4),e.JRh(e.bMT(36,22,"MESSAGE")),e.R7$(2),e.R50("ngModel",n.text),e.R7$(),e.Y8G("ngIf",n.replyTo))},dependencies:[T.bT,r.Jm,r.QW,r.hU,r.W9,r.lO,r.eU,r.$w,r.uz,r.he,r.ln,r.nc,r.BC,r.ai,r.Gw,X.BC,X.vS,me.U,ge,p.D9],styles:[".previous-message-title[_ngcontent-%COMP%]{text-transform:uppercase}.previous-message-subject[_ngcontent-%COMP%]{font-weight:700}ion-textarea[userSetSummary][_ngcontent-%COMP%]{font-size:.8em}"]}),u})()},8330:(k,C,l)=>{l.d(C,{M:()=>A});var a=l(467),b=l(1876),i=l(4438),e=l(4742),r=l(3656),d=l(230),f=l(177);function T(h,y){if(1&h){const m=i.RV6();i.j41(0,"ion-button",1),i.bIt("click",function(){i.eBV(m);const g=i.XpG();return i.Njj(g.dismiss())}),i.EFF(1),i.nI1(2,"translate"),i.k0s()}2&h&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"DONE")," "))}function v(h,y){if(1&h&&(i.j41(0,"p",6),i.EFF(1),i.k0s()),2&h){const m=i.XpG();i.R7$(),i.JRh(m.emptyLabel)}}function O(h,y){if(1&h){const m=i.RV6();i.j41(0,"ion-searchbar",8),i.nI1(1,"translate"),i.bIt("ionInput",function(g){i.eBV(m);const j=i.XpG(2);return i.Njj(j.onSearchInput(g))}),i.k0s()}2&h&&i.FS9("placeholder",i.bMT(1,1,"SEARCH"))}function E(h,y){if(1&h){const m=i.RV6();i.j41(0,"ion-item")(1,"ion-label"),i.EFF(2),i.k0s(),i.j41(3,"ion-checkbox",10),i.bIt("ionChange",function(){const g=i.eBV(m).$implicit,j=i.XpG(3);return i.Njj(j.onClickItem(g))}),i.k0s()()}if(2&h){const m=y.$implicit,p=i.XpG(3);i.R7$(2),i.JRh(m.name),i.R7$(),i.Y8G("checked",p.isSelected(m))}}function P(h,y){if(1&h&&(i.j41(0,"ion-list"),i.DNE(1,E,4,2,"ion-item",9),i.k0s()),2&h){const m=i.XpG(2);i.R7$(),i.Y8G("ngForOf",m.filteredItems)}}function I(h,y){if(1&h&&(i.j41(0,"div")(1,"ion-label",13),i.EFF(2),i.k0s()()),2&h){const m=i.XpG().$implicit;i.R7$(2),i.JRh(m.schoolName)}}function S(h,y){if(1&h){const m=i.RV6();i.j41(0,"ion-item",12),i.bIt("click",function(){const g=i.eBV(m).$implicit,j=i.XpG(3);return i.Njj(j.onClickItem(g))}),i.j41(1,"ion-label"),i.EFF(2),i.k0s(),i.DNE(3,I,3,1,"div",5),i.k0s()}if(2&h){const m=y.$implicit;i.R7$(2),i.JRh(m.name),i.R7$(),i.Y8G("ngIf",m.schoolName)}}function U(h,y){if(1&h&&(i.j41(0,"ion-list"),i.DNE(1,S,4,2,"ion-item",11),i.k0s()),2&h){const m=i.XpG(2);i.R7$(),i.Y8G("ngForOf",m.filteredItems)}}function D(h,y){if(1&h&&(i.qex(0),i.DNE(1,O,2,3,"ion-searchbar",7)(2,P,2,1,"ion-list",5)(3,U,2,1,"ion-list",5),i.bVm()),2&h){const m=i.XpG();i.R7$(),i.Y8G("ngIf",m.isSearchVisible),i.R7$(),i.Y8G("ngIf",m.isMultiSelect),i.R7$(),i.Y8G("ngIf",!m.isMultiSelect)}}let A=(()=>{var h;class y{constructor(p,g,j){this.modalCtrl=p,this.navParams=g,this.translate=j,this.isSearching=!1,this.filteredItems=[],this.selection=new b.Y}ionViewWillEnter(){var p=this;return(0,a.A)(function*(){yield p.initLang(),p.initView()})()}get isSearchVisible(){return this.items&&this.items.length>10}isSelected(p){return this.selection.isSelected(p)}onClickItem(p){this.isMultiSelect?this.toggleSelection(p):(this.selection.selectItem(p),this.dismiss())}onSearchInput(p){let g=p.target.value||"";this.filteredItems=this.items.filter(j=>this.match(g,j))}dismiss(){let p=this.selection.selectedItems;0===p.length?this.modalCtrl.dismiss():this.modalCtrl.dismiss(this.isMultiSelect?{items:p}:{item:p[0]})}initLang(){this.translate.setDefaultLang("sv");const p=this.translate.getBrowserLang();p&&p.startsWith("en")?this.translate.use("en"):this.translate.use("sv"),this.translate.get(["SELECTABLE_OPTIONS_MISSING","SELECT_ONE_OR_MORE","SELECT_ONE"]).subscribe(j=>{this.translations=j})}initView(){this.selection=new b.Y,this.emptyLabel=this.navParams.data.emptyLabel||this.translations.SELECTABLE_OPTIONS_MISSING,this.isMultiSelect=this.navParams.data.multi,this.title=this.navParams.data.title||(this.isMultiSelect?this.translations.SELECT_ONE_OR_MORE:this.translations.SELECT_ONE),this.items=this.navParams.data.items,this.isEmpty=0==this.items.length,this.selection.setSelectedItems(this.navParams.data.selectedItems||[]),this.filteredItems=this.items}match(p,g){let j=p.toLocaleLowerCase();return g.name.toLocaleLowerCase().indexOf(j)>-1}toggleSelection(p){this.selection.toggleItem(p)}}return(h=y).\u0275fac=function(p){return new(p||h)(i.rXU(e.W3),i.rXU(r.y8),i.rXU(d.c$))},h.\u0275cmp=i.VBU({type:h,selectors:[["page-picker"]],decls:14,vars:7,consts:[["slot","start"],["fill","clear",3,"click"],["slot","end"],["fill","clear",3,"click",4,"ngIf"],["class","ion-padding ion-text-center",4,"ngIf"],[4,"ngIf"],[1,"ion-padding","ion-text-center"],["autocapitalize","off",3,"placeholder","ionInput",4,"ngIf"],["autocapitalize","off",3,"ionInput","placeholder"],[4,"ngFor","ngForOf"],["item-end","",3,"ionChange","checked"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],[2,"color","black","font-size","0.7em"]],template:function(p,g){1&p&&(i.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),i.bIt("click",function(){return g.dismiss()}),i.j41(4,"span"),i.EFF(5),i.nI1(6,"translate"),i.k0s()()(),i.j41(7,"ion-title"),i.EFF(8),i.k0s(),i.j41(9,"ion-buttons",2),i.DNE(10,T,3,3,"ion-button",3),i.k0s()()(),i.j41(11,"ion-content"),i.DNE(12,v,2,1,"p",4)(13,D,4,3,"ng-container",5),i.k0s()),2&p&&(i.R7$(5),i.JRh(i.bMT(6,5,"CANCEL")),i.R7$(3),i.JRh(g.title),i.R7$(2),i.Y8G("ngIf",g.isMultiSelect),i.R7$(2),i.Y8G("ngIf",g.isEmpty),i.R7$(),i.Y8G("ngIf",!g.isEmpty))},dependencies:[f.Sq,f.bT,e.Jm,e.QW,e.eY,e.W9,e.eU,e.uz,e.he,e.nf,e.S1,e.BC,e.ai,e.hB,e.Gw,d.D9],encapsulation:2}),y})()},8775:(k,C,l)=>{l.d(C,{V:()=>b});var a=l(4438);let b=(()=>{var i;class e{transform(d){return(d=d?d.replace(/href\s*=\s*["']([^"']+)["']/gi,(f,T)=>`href="${T.replace(/\n|<[^>]+>/g,"")}"`):"")?d.replace(/\n/g,"<br/>"):""}}return(i=e).\u0275fac=function(d){return new(d||i)},i.\u0275pipe=a.EJ8({name:"nlHtml",type:i,pure:!0}),e})()},2129:(k,C,l)=>{l.d(C,{h:()=>i});var a=l(467),b=l(1622);class i extends b.D{constructor(r,d){super(),this.api=r,this.loginStatus=d,this.list=[],this.setupClearOnLogout()}clear(){this.list=[]}init(r){var d=this;return(0,a.A)(function*(){let f=JSON.stringify(r);return f!=d.stringifiedParams&&(d.clear(),d.stringifiedParams=f),d.list.length||(d.list=yield d.loadList(r)),d.list})()}refresh(){var r=this;return(0,a.A)(function*(){return r.list=[],r.init()})()}loadList(r){return this.api.get(this.listEndpoint,r)}setupClearOnLogout(){this.addSub(this.loginStatus.isLoggedInState.subscribe(r=>{r||this.clear()}))}}},6969:(k,C,l)=>{l.d(C,{s:()=>r});var a=l(2129),b=l(4438),i=l(6244),e=l(6186);let r=(()=>{var d;class f extends a.h{constructor(v,O){super(v,O),this.listEndpoint="api/students/list?includeallschools=true",this.setupClearOnRoleChange()}setupClearOnRoleChange(){this.addSub(this.loginStatus.roleNameState.subscribe(v=>{v&&this.clear()}))}}return(d=f).\u0275fac=function(v){return new(v||d)(b.KVO(i.j),b.KVO(e.B))},d.\u0275prov=b.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),f})()},8292:(k,C,l)=>{l.d(C,{H:()=>r});var a=l(2129),b=l(4438),i=l(6244),e=l(6186);let r=(()=>{var d;class f extends a.h{constructor(v,O){super(v,O),this.listEndpoint="api/teachers/list"}}return(d=f).\u0275fac=function(v){return new(v||d)(b.KVO(i.j),b.KVO(e.B))},d.\u0275prov=b.jDH({token:d,factory:d.\u0275fac,providedIn:"root"}),f})()}}]);