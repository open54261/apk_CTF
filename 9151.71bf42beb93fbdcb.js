"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9151],{9151:(H,v,o)=>{o.r(v),o.d(v,{MessagePageModule:()=>Y});var f=o(177),P=o(9417),h=o(3656),r=o(4742),c=o(9598),m=o(467),R=o(6090),T=o(4324),e=o(4438),b=o(1204),d=o(230),y=o(5151),I=o(9196),j=o(6244),E=o(4416),$=o(3543),G=o(8775);function N(s,i){if(1&s&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&s){const a=e.XpG(2);e.R7$(),e.JRh(a.senderName)}}function X(s,i){if(1&s&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&s){const a=e.XpG(2);e.R7$(),e.JRh(a.receiverNames)}}function C(s,i){if(1&s){const a=e.RV6();e.j41(0,"div")(1,"h3"),e.EFF(2),e.k0s(),e.j41(3,"ion-item",5)(4,"ion-label",6),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.message.toggleReceivers=!n.message.toggleReceivers)}),e.DNE(5,N,2,1,"p",2)(6,X,2,1,"p",2),e.j41(7,"p"),e.EFF(8),e.k0s()()(),e.nrm(9,"p",7),e.nI1(10,"nlHtml"),e.nI1(11,"safe"),e.k0s()}if(2&s){const a=e.XpG();e.R7$(2),e.JRh(a.message.subject),e.R7$(2),e.AVh("ion-text-wrap",a.message.toggleReceivers),e.R7$(),e.Y8G("ngIf",a.message.isReceiver),e.R7$(),e.Y8G("ngIf",!a.message.isReceiver),e.R7$(2),e.JRh(a.message.time),e.R7$(),e.Y8G("innerHtml",e.bMT(11,9,e.bMT(10,7,a.message.text)),e.npT)}}function F(s,i){if(1&s){const a=e.RV6();e.j41(0,"ion-button",8),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.navToDocumentation())}),e.EFF(1," Boka m\xf6te "),e.k0s()}}function k(s,i){if(1&s){const a=e.RV6();e.j41(0,"ion-fab",9)(1,"ion-fab-button",10),e.bIt("click",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.onClickReply())}),e.nrm(2,"ion-icon",11),e.k0s()()}}const x=[{path:"",component:(()=>{var s;class i extends R.v{constructor(t,n,u,p,D,S,M,z,O,B){var g,l;super(u,n,p,D,S,M),this.navCtrl=t,this.userInfo=M,this.api=z,this.modalCtrl=O,this.route=B,this.messageEndpoint="api/messages/{messageId}",this.backToPage="tabs/messages",this.replyEnabled=!1;const J=null===(g=n.getCurrentNavigation())||void 0===g||null===(g=g.extras)||void 0===g||null===(g=g.state)||void 0===g?void 0:g.message,W=null===(l=n.getCurrentNavigation())||void 0===l||null===(l=l.extras)||void 0===l||null===(l=l.state)||void 0===l?void 0:l.backToPage;this.backToPage=W||"tabs/messages",this.message=J}ionViewWillEnter(){this.initializeView()}onClickReply(){var t=this;return(0,m.A)(function*(){(yield t.modalCtrl.create({component:T.j,componentProps:{replyTo:t.message}})).present()})()}get receiverNames(){return this.message?this.message.receivers.map(t=>t.name).join(", "):""}get senderName(){return this.message?`${this.message.sender.firstName} ${this.message.sender.lastName}`:""}initializeView(){var t=this;return(0,m.A)(function*(){return t.withSpinner((0,m.A)(function*(){t.replyEnabled="true"===t.route.snapshot.queryParamMap.get("replyEnabled");const n=+t.route.snapshot.paramMap.get("messageId");yield t.loadMessage(n)}))})()}loadMessage(t){var n=this;return(0,m.A)(function*(){try{let u=n.messageEndpoint.replace("{messageId}",t.toString());n.message=yield n.api.get(u)}catch(u){let p=yield n.translate("ERROR_COULD_NOT_LOAD_MESSAGE");yield n.userAlertService.alert(p)}})()}navToDocumentation(){this.navTo("appointments")}}return(s=i).\u0275fac=function(t){return new(t||s)(e.rXU(h.q9),e.rXU(c.Ix),e.rXU(b.$),e.rXU(r.Xi),e.rXU(d.c$),e.rXU(y.p),e.rXU(I.Z),e.rXU(j.j),e.rXU(r.W3),e.rXU(c.nX))},s.\u0275cmp=e.VBU({type:s,selectors:[["page-message"]],features:[e.Vt3],decls:7,vars:7,consts:[[3,"pageTitle","backPage"],[1,"ion-padding"],[4,"ngIf"],["class","ion-margin",3,"click",4,"ngIf"],["vertical","bottom","horizontal","end","class","ion-margin",4,"ngIf"],[1,"ion-no-padding"],[3,"click"],[1,"text-markeble",3,"innerHtml"],[1,"ion-margin",3,"click"],["vertical","bottom","horizontal","end",1,"ion-margin"],["size","large","color","action",3,"click"],["name","arrow-undo"]],template:function(t,n){1&t&&(e.nrm(0,"app-header",0),e.nI1(1,"translate"),e.j41(2,"ion-content",1),e.DNE(3,C,12,11,"div",2),e.k0s(),e.j41(4,"ion-footer"),e.DNE(5,F,2,0,"ion-button",3)(6,k,3,0,"ion-fab",4),e.k0s()),2&t&&(e.FS9("pageTitle",e.bMT(1,5,"MESSAGES_TITLE")),e.Y8G("backPage",n.backToPage),e.R7$(3),e.Y8G("ngIf",n.message),e.R7$(2),e.Y8G("ngIf","Appointment"===(null==n.message?null:n.message.type)),e.R7$(),e.Y8G("ngIf",n.replyEnabled))},dependencies:[f.bT,r.Jm,r.W9,r.Q8,r.YW,r.M0,r.iq,r.uz,r.he,E.l,d.D9,$.m,G.V],styles:[".fab[large-icon][_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:3.6rem}"]}),i})()}];let V=(()=>{var s;class i{}return(s=i).\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.$C({type:s}),s.\u0275inj=e.G2t({imports:[c.iI.forChild(x),c.iI]}),i})();var U=o(7019),A=o(1683);let Y=(()=>{var s;class i{}return(s=i).\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.$C({type:s}),s.\u0275inj=e.G2t({providers:[h.y8],imports:[f.MD,P.YN,r.bv,V,d.h,U.h,A.Y]}),i})()}}]);